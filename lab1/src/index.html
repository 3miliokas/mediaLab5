<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8/>
<title>Lab 1. Introduction to HTML5 and HLS</title>
  
  <!--
  Embed needed js libraries for video player. Note, libraries needs to be hosted on your server, under /js folder.
   -->
   <link href="https://vjs.zencdn.net/8.0.4/video-js.css" rel="stylesheet" />
   <script src="https://vjs.zencdn.net/8.0.4/video.min.js"></script>
  <!--
  Location for CSS if needed. Note, cascade style sheets needs to be hosted on your server, under /css folder.
  -->
   


</head>
<body>
  <h1>My first HLS player</h1>
  
  <!--
  location for your player window
  -->
  <div class="video-container">
    <video
        id="my-video"
        class="video-js"
        controls
        preload="auto"
        width="640"
        height="360"
        data-setup="{}"
      >
        <source src="https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8" type="application/x-mpegURL" />
        <p class="vjs-no-js">
          To view this video please enable JavaScript, and consider upgrading to a
          web browser that
          <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
        </p>
    </video>
  </div>
  
	<button type="button" onclick="playVideo()">Play</button>
	<button type="button" onclick="pauseVideo()">Pause</button>
	<button type="button" onclick="stopVideo()">Stop</button>
	<button type="button" onclick="jumpForward()">Jump to 5 sec forward</button>
	<button type="button" onclick="jumpBackward()">Jump to 5 sec backwards</button>
	
	<p>Playlist</p>

	<input type="text" id="url1" size="100" value="https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8">
	<button type="button" onclick="loadVideo('url1')">Load</button><br>
	
	<input type="text" id="url2" size="100" value="https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8">
	<button type="button" onclick="loadVideo('url2')">Load</button><br>
	
	<input type="text" id="url3" size="100" value="https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8">
	<button type="button" onclick="loadVideo('url3')">Load</button><br>
	
	<button type="button" onclick="shuffleVideo()">Shuffle</button>
	
	
	<script>
		var player = videojs('my-video');

		function playVideo() {
			player.play();
		}
		function pauseVideo() {
			player.pause();
		}
		function stopVideo() {
			player.pause();
			player.currentTime(0);
		}
		function jumpForward() {
			var currentTime = player.currentTime();
			player.currentTime(currentTime + 5);
		}
		function jumpBackward() {
			var currentTime = player.currentTime();
			player.currentTime(currentTime - 5);
		}
		function loadVideo(elementId) {
			var url = document.getElementById(elementId).value;
			player.src({ type: 'application/x-mpegURL', src: url });
			player.play();
		}
		function shuffleVideo() {
			var videos = [
				"https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8",
				"https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8",
				"https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8"
			];
			var randomIndex = Math.floor(Math.random() * videos.length);
			player.src({ type: 'application/x-mpegURL', src: videos[randomIndex] });
			player.play();
		}
  </script>
	
</body>
</html>